---
$schema: http://json-schema.org/draft-04/hyper-schema
title: Album
type: object
definitions:
  id:
    type: string
    example: exampleuuid0123456789
    format: uuid
    readOnly: true
  created_at:
    type: string
    format: date-time
    description: When this resource was deleted at
    example:
  updated_at:
    type: string
    format: date-time
    description: When this resource was deleted at
    example:
  deleted_at:
    type:
      - string
      - "null"
    format: date-time
    description: When this resource was deleted at
    example: null
  name:
    type: string
    description: Album name
    example: my album
  filename:
    description: unique name of album
    example: example
    pattern: "^[a-z][a-z0-9-]{3,50}$"
    readOnly: false
    type: string
  private:
    type: boolean
    description: true if this resource is private use
    example: false
  owner:
    $ref: "#/definitions/user"
  liked_user_ids:
    type: array
    items:
      $ref: "#/definitions/user/definitions/id"
  file:
    type: string
    description: an attachment of album
    example: '... contents of file ...'
    readOnly: false
properties:
  id:
    $ref: "#/definitions/album/definitions/id"
  created_at:
    $ref: "#/definitions/album/definitions/created_at"
  updated_at:
    $ref: "#/definitions/album/definitions/updated_at"
  deleted_at:
    $ref: "#/definitions/album/definitions/deleted_at"
  name:
    $ref: "#/definitions/album/definitions/name"
  filename:
    $ref: "#/definitions/album/definitions/filename"
  private:
    $ref: "#/definitions/album/definitions/private"
  owner:
    $ref: "#/definitions/album/definitions/owner"
  liked_user_ids:
    $ref: "#/definitions/album/definitions/liked_user_ids"
links:
  - title: Create
    description: Create a new album.
    href: "/albums"
    method: POST
    rel: create
    schema:
      properties:
        name:
          $ref: "#/definitions/album/definitions/name"
      type:
      - object
  - title: List
    description: List existing albums.
    href: "/albums"
    method: GET
    rel: instances
  - title: Info
    description: Info for existing album.
    href: "/albums/{(#/definitions/album/definitions/id)}"
    method: GET
    rel: self
  - title: Update
    description: Update an existing album.
    href: "/albums/{(#/definitions/album/definitions/id)}"
    method: PATCH
    rel: update
    schema:
      properties:
        name:
          $ref: "#/definitions/album/definitions/name"
      type:
      - object
  - title: Delete
    description: Delete an existing album.
    href: "/albums/{(#/definitions/album/definitions/id)}"
    method: DELETE
    rel: destroy
    mediaType: 'null'
  - title: Create
    description: Upload an attachment file for an album
    method: POST
    href: "/albums/{(#/definitions/album/definitions/id)}/files"
    rel: create
    encType: multipart/form-data
    schema:
      type: object
      properties:
        file:
          $ref: "#/definitions/album/definitions/file"
