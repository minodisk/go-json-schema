---
$schema: http://json-schema.org/draft-04/hyper-schema
title: Album
type: object
definitions:
  id:
    type: string
    example: 942b46e5-893b-41ba-88da-d6aef7dddc31
    format: uuid
    readOnly: true
  created_at:
    type: string
    format: date-time
    description: When this resource was deleted at.
  updated_at:
    type: string
    format: date-time
    description: When this resource was deleted at.
  deleted_at:
    type: string
    format: date-time
    description: When this resource was deleted at.
  name:
    type: string
    description: The name of this album.
    example: my album
  # filename:
  #   type: string
  #   description: Unique name of this album.
  #   example: example
  #   pattern: "^[a-z][a-z0-9-]{3,50}$"
  #   readOnly: false
  private:
    type: boolean
    description: true if this resource is private use.
    example: false
  owner:
    $ref: "#/definitions/user"
  liked_user_ids:
    type: array
    items:
      $ref: "#/definitions/user/definitions/id"
  file:
    type: string
    description: an attachment of album.
    example: '... contents of file ...'
    readOnly: false
properties:
  id:
    $ref: "#/definitions/album/definitions/id"
  created_at:
    $ref: "#/definitions/album/definitions/created_at"
  updated_at:
    $ref: "#/definitions/album/definitions/updated_at"
  deleted_at:
    $ref: "#/definitions/album/definitions/deleted_at"
  name:
    $ref: "#/definitions/album/definitions/name"
  # filename:
  #   $ref: "#/definitions/album/definitions/filename"
  private:
    $ref: "#/definitions/album/definitions/private"
  owner:
    $ref: "#/definitions/album/definitions/owner"
  liked_user_ids:
    $ref: "#/definitions/album/definitions/liked_user_ids"
links:
  - title: Create
    description: Create a new album.
    href: "/albums"
    method: POST
    rel: create
    schema:
      properties:
        name:
          $ref: "#/definitions/album/definitions/name"
      type:
      - object
  - title: ReadList
    description: List existing albums.
    href: "/albums"
    method: GET
    rel: instances
  - title: Read
    description: Read an existing album.
    href: "/albums/{(#/definitions/album/definitions/id)}"
    method: GET
    rel: self
  - title: Update
    description: Update an existing album.
    href: "/albums/{(#/definitions/album/definitions/id)}"
    method: PATCH
    rel: update
    schema:
      properties:
        name:
          $ref: "#/definitions/album/definitions/name"
      type:
      - object
  - title: Delete
    description: Delete an existing album.
    href: "/albums/{(#/definitions/album/definitions/id)}"
    method: DELETE
    rel: destroy
    mediaType: 'null'
  - title: Create
    description: Upload an attachment file for an album.
    method: POST
    href: "/albums/{(#/definitions/album/definitions/id)}/files"
    rel: create
    encType: multipart/form-data
    schema:
      type: object
      properties:
        file:
          $ref: "#/definitions/album/definitions/file"
