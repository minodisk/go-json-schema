// Code generated by jsonschema.
// DO NOT EDIT!

package {{.package}}

import "github.com/go-martini/martini"

func Route(r martini.Router) {
{{range $name, $schema := .schema.Properties.Schemas}}{{range $i, $link := $schema.Links}}  r.AddRoute("{{$link.Method}}", "{{$link.Endpoint}}", {{$link.Title}})
{{end}}{{end}}}

{{range $name, $schema := .schema.Properties.Schemas}}
type {{$schema.Title}} struct {
{{range $name, $property := $schema.Properties.Schemas}}
  {{snakeToCamel $name}} {{$property.Type.Go}} `json:"{{$name}}"`{{end}}
}

{{$instance := firstChar $schema.Title}}
func ({{$instance}} {{$schema.Title}}) Validate() (errs []error) {
  errs = []error{
{{range $name, $property := $schema.Properties.Schemas}}{{$var := snakeToCamel $name}}
  {{if $property.Type.IsNumeric}}
    {{if $property.Minimum}}
      Minimum({{$property.Minimum}}, {{$instance}}.{{$var}})
    {{end}}
  {{end}}
  {{if $property.Items}}
    {{if $property.MaxItems}}
      MaxItems({{$property.MaxItems}}, {{$instance}}.{{$var}}),
    {{end}}
    {{if $property.MinItems}}
      MinItems({{$property.MinItems}}, {{$instance}}.{{$var}}),
    {{end}}
    {{if $property.UniqueItems}}
      UniqueItems({{$instance}}.{{$var}}),
    {{end}}
  {{end}}
{{end}}}
  return errs
}
{{end}}

{{.validatorCode}}
